# gulls_viz.py

**gulls Microlensing Event Visualization Tool**  
Part of the [GULLS](https://github.com/your-org/gulls) microlensing simulation pipeline.

---

## Overview

`gulls_viz.py` generates high-quality, multi-panel visualizations for simulated microlensing events generated by the gulls simulator. It combines:

- **Lightcurve** 
- **Zoom-in panels** around planetary anomalies
- **Binary-lens caustic structures**
- **Source/lens trajectories**
- **Einstein ring overlays**
- **Annotated parameter tables and field locations**

Each event is rendered on a single page and collected into a multi-page PDF for easy inspection, analysis, or presentation.

---

## Features

- Applies detection criteria including Î”Ï‡Â² thresholds, seasonal coverage, event peak time (tâ‚€) within observing seasons, impact parameter constraint (|uâ‚€| < 3), and selection across different observatory groups
- Compatible with `.hdf5` event catalogs and `.det.lc` lightcurve files


---

## Usage

```bash
python gulls_viz.py [options] <event_file1.out> or <event_file2.hdf5> ...
```

### Arguments

| Argument         | Description |
|------------------|-------------|
| `outfiles`       | One or more `.out` event files |
| `--chi2`         | Detection threshold (default: `160.0`) |
| `--obsgroup`     | Observatory group ID (default: `0`) |
| `--seasons`      | Number of seasons (default: `6`) |
| `--folder`       | Folder containing `.det.lc` files (default: `"."`) |
| `--fields`       | Optional field coordinate file |
| `--pdfname`      | Output filename (default: `Roman_m00_v7_merged_all.pdf`) |

---

## Example

```bash
python gulls_viz.py  ./analysis/overguide_m00.det.hdf5 --chi2 160 --obsgroup 0 --folder ./lc_files \
  --fields fields.txt --pdfname summary_overguide.pdf

```

---

## Dependencies

- Python 3.8+
- `numpy`
- `pandas`
- `matplotlib`
- `VBMicrolensing` (Python bindings)



---

## Author

**Farzaneh Zohrabi**  
Louisiana State University  
RGES Project Infrastructure Team (PIT)  
ðŸ“… August 2025

